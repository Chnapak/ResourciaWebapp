<div class="flex w-full h-150">
  <img class="grayscale brightness-40 h-full w-1/2 object-cover" src="./img/authbanner.jpg" alt="registration banner">

  <div class="flex flex-col w-1/2 h-full items-center justify-center text-center">
    <h1 class="text-4xl md:text-5xl font-bold m-3">Login</h1>

    <form class="w-2/3 flex flex-col justify-center items-center" [formGroup]="form" (ngSubmit)="onSubmit()">
      
      <app-textfield 
        label="Email" 
        type="email" 
        placeholder="Write here..." 
        formControlName="email">
      </app-textfield>

      <app-textfield 
        label="Password" 
        type="password" 
        placeholder="Write here..." 
        formControlName="password">
      </app-textfield>

      <div id="turnstile-container" class="flex flex-col w-fit max-w-240 relative mt-4"></div>

      <div class="w-70 text-left mt-2">
        @if (loginFailed) {
          <div class="text-xs text-red-700">Invalid email or password. Please try again.</div>
        }

        @if (captchaFailed) {
          <div class="text-xs text-red-700">Please complete the security check.</div>
        }

        @if (generalError) {
          <div class="text-xs text-red-700">Something went wrong. Please check your connection and try again.</div>
        }
      </div>
      
      <ui-button 
        class="w-70 mt-4"
        [fullWidth]="true"
        type="submit"
        variant="primary"
        [loading]="isSubmitting"
        [disabled]="isSubmitting">
        Log In
      </ui-button>
    </form>
  </div>
</div>