<!-- Filters Section -->
<div class="bg-white rounded-lg shadow-sm overflow-hidden">
    <app-admin-header [title]="'Filters'"></app-admin-header>
    <app-admin-table
        [columns]="columns"
        [selectable]="true"
        [checked]="allSelected"
        [indeterminate]="someSelected"
        (toggleAll)="onToggleAll($event)"
    ></app-admin-table>

    <!-- Filters List -->
    <div>
        @if (schema?.filters == []){
            <div class="bg-white rounded-lg shadow-sm">
                <div class="py-16 px-8 text-center">
                    <div class="text-5xl text-gray-300 mb-4">ğŸ“‹</div>
                    <div class="text-lg font-medium text-gray-600 mb-2">No filters yet</div>
                    <div class="text-sm text-gray-400">Click "Add Filter" to create your first filter</div>
                </div>
            </div>
        }
        @for (filter of (schema?.filters ?? []); track $index) {
            <div class="flex items-center px-8 py-4 border-b border-gray-100 hover:bg-gray-50 transition-colors" draggable="true">
                <div class="text-gray-400 cursor-grab active:cursor-grabbing mr-4 text-xl drag-handle">â˜°</div>
                <div class="text-gray-400 text-sm min-w-[2rem] mr-4 filter-position">#{{$index}}</div>
                <div class="flex-1 flex flex-col gap-1">
                    <div class="flex items-center gap-2">
                        <div class="text-base font-medium text-gray-900">{{filter.label}}</div>
                        
                        @if (filter.kind === FilterKind.Facet) {
                            <span class="px-2 py-0.5 bg-purple-100 text-purple-700 text-xs font-medium rounded">Facet Value</span>
                        }
                        @if (filter.kind === FilterKind.Range) {
                            <span class="px-2 py-0.5 bg-emerald-100 text-emerald-700 text-xs font-medium rounded">Number</span>
                        }
                        @if (filter.kind === FilterKind.Boolean) {
                            <span class="px-2 py-0.5 bg-amber-100 text-amber-700 text-xs font-medium rounded">Boolean</span>
                        }
                        @if (filter.kind === FilterKind.Text) {
                            <span class="px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded">String</span>
                        }
                    </div>
                    <div class="text-xs text-gray-600">Used by 1,247 resources â€¢ Last updated Jan 28, 2026</div>
                </div>
                <div class="flex gap-2 items-center">
                    <span class="text-xs text-green-600 min-w-[55px] text-right status-label">Enabled</span>
                    <label class="relative inline-block w-11 h-6 cursor-pointer">
                        <input type="checkbox" checked onchange="toggleFilterStatus(this, 'Subject')" class="sr-only peer">
                        <div class="w-11 h-6 bg-gray-300 peer-focus:outline-none rounded-full peer peer-checked:bg-green-500 transition-colors"></div>
                        <div class="absolute left-[3px] top-[3px] bg-white w-[18px] h-[18px] rounded-full transition-transform peer-checked:translate-x-5"></div>
                    </label>
                    <button 
                        onclick="alert('Edit Subject filter')" 
                        class="px-3 py-2 border border-gray-200 bg-white rounded-lg text-sm hover:border-blue-600 hover:text-blue-600 transition-all flex items-center gap-2"
                    >
                        âœï¸ Edit
                    </button>
                    <button 
                        onclick="showDeleteModal('Subject', 1247)" 
                        class="px-3 py-2 bg-red-600 text-white border border-red-600 rounded-lg text-sm hover:bg-red-700 transition-colors flex items-center gap-2"
                    >
                        ğŸ—‘ï¸ Delete
                    </button>
                </div>
            </div>
        }
    </div>
</div>