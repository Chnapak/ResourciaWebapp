<div class="max-w-[1400px] flex mx-auto py-[32px] px-[40px] items-start gap-[32px]">
    <aside class="w-[300px] bg-white rounded-[16px] p-[24px] shadow-[0_2px_12px_rgba(0,0,0,0.1)]">
        <div class="flex justify-between items-center mb-[24px]">
            <h2 class="text-[20px] font-[400]">Filters</h2>
            <button class="text-gray-400 underline cursor-pointer hover:text-blue-400">Clear all</button>
        </div>
        @for (filter of (schema?.filters ?? []); track $index) {
            <div class="mb-[24px] pb-[24px] border-b border-gray-300">
                <div class="flex justify-between items-center cursor-pointer select-none hover:text-blue-400" (click)="toggleSection(filter.key)"
                [class.collapsed]="isCollapsed(filter.key)">
                    <label for="" class="cursor-pointer">{{ filter.label }}</label>
                    <span class="text-[18px]">
                        @if (isCollapsed(filter.key)) {
                            +
                        }
                        @else {
                            -
                        }
                    </span>
                </div>
                @if (!isCollapsed(filter.key)){
                    <!-- TODO: TAILWIND here -->
                    @if (filter.kind == FilterKind.Facet) {
                        <div class="filter-content">
                            <select class="filter-select" onchange="addSubject(this)">
                                    <option value="">Select a subject...</option>
                                    @for (v of filter.values; track v.value) {
                                        <option [value]="v.value">{{ v.label }}</option>
                                    }
                            </select>
                        </div>
                    }
                    @if (filter.kind == FilterKind.Range) {
                        <div class="filter-content flex gap-2">
                            <input
                            type="number"
                            class="filter-input"
                            placeholder="Min"
                            (input)="onNumberRangeChange(filter, 'min', $event)"
                            />
                            <input
                            type="number"
                            class="filter-input"
                            placeholder="Max"
                            (input)="onNumberRangeChange(filter, 'max', $event)"
                            />
                        </div>
                    }
                    @if (filter.kind == FilterKind.Boolean) {
                        <div class="filter-content">
                            <label class="flex items-center gap-2">
                            <input
                                type="checkbox"
                                (change)="onBoolChange(filter, $event)"
                            />
                            <span>{{ filter.label }}</span>
                            </label>
                        </div>
                    }
                    @if (filter.kind == FilterKind.Text) {
                        <div class="filter-content">
                            <input
                            type="text"
                            class="filter-input"
                            [placeholder]="'Type ' + filter.label + '‚Ä¶'"
                            (input)="onTextChange(filter, $event)"
                            />
                        </div>
                    }
                    
                }
            </div>
        }
    </aside>
    <main class="flex-1">
        <button class="mb-[20px] py-[10px] px-[18px] bg-white text-black text-[14px] font-[500] border border-gray-400 rounded-[8px] cursor-pointer hover:border-blue-500 hover:text-blue-500" onclick="toggleFilters()">
            <span id="filter-text">Hide Filters</span>
        </button>

        <div class="flex justify-between items-center mb-[16px]">
            <div class="text-[15px] text-gray-400">
                Showing <strong>132 results</strong>
            </div>
            <div class="flex items-center gap-[12px]">
                <a routerLink="/addresource">
                    <button class="px-[16px] py-[8px] flex items-center gap-[6px] whitespace-nowrap bg-blue-500 flex items-center justify-center text-white text-[14px] font-[600] rounded-[8px] cursor-pointer hover:bg-blue-600">
                        <span>+</span>
                        <span>Add Resource</span>
                    </button>
                </a>
                <div>
                    <select class="px-[16px] py-[8px] text-[14px] bg-white border border-gray-400 rounded-[8px] cursor-pointer outline-0 focus:border-blue-500">
                        <option>Most relevant</option>
                        <option>Most popular</option>
                        <option>Highest rated</option>
                        <option>Newest</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="mb-[24px] flex gap-[10px] flex-wrap items-center">
            <div class="px-[14px] py-[6px] text-[13px] bg-gray-100 border border-gray-400 rounded-[20px] inline-flex items-center gap-[8px]">
                Math <span class="text-gray-400 cursor-pointer font-bold hover:text-blue-500">√ó</span>
            </div>
            <div class="px-[14px] py-[6px] text-[13px] bg-gray-100 border border-gray-400 rounded-[20px] inline-flex items-center gap-[8px]">
                Math <span class="text-gray-400 cursor-pointer font-bold hover:text-blue-500">√ó</span>
            </div>
            <div class="px-[14px] py-[6px] text-[13px] bg-gray-100 border border-gray-400 rounded-[20px] inline-flex items-center gap-[8px]">
                Math <span class="text-gray-400 cursor-pointer font-bold hover:text-blue-500">√ó</span>
            </div>
            <div class="px-[14px] py-[6px] text-[13px] bg-gray-100 border border-gray-400 rounded-[20px] inline-flex items-center gap-[8px]">
                Math <span class="text-gray-400 cursor-pointer font-bold hover:text-blue-500">√ó</span>
            </div>
            <span class="text-[13px] text-blue-500 cursor-pointer underline">Clear all</span>
        </div>

        <div class="mb-[40px] grid grid-cols-3 gap-[20px]">
            <div class="flex flex-col bg-white rounded-[16px] overflow-hidden shadow-[0_2px_8px_rgba(0,0,0,0.1)] cursor-pointer transition duration-300 hover:-translate-y-[4px] hover:shadow-[0_8px_24px_rgba(0,0,0,0.25)]">
                <div class="w-full h-[160px] mb-[8px] text-white text-[48px] font-[700] flex justify-center items-center bg-linear-to-r from-cyan-500 to-blue-500">
                    B
                </div>
                <div class="p-[18px] flex flex-col flex-1">
                    <div class="card-title mb-[8px] text-gray-900 text-[18px] font-[700] leading-[1.4]">Brilliant</div>
                    <div class="mb-[10px] flex flex-wrap gap-[7px] items-center text-[13px]">
                        <span>üåê</span>
                        <span class="text-gray-500 font-[600] hover:text-blue-500"><a href="https://www.brilliant.org" target="_blank">brilliant.org</a></span>
                        <span class="text-gray-800">‚Ä¢</span>
                        <span class="px-[8px] py-[2px] bg-gray-200 text-gray-800 text-[11px] font-[600] border border-gray-400 rounded-[10px]">Interactive</span>
                    </div>
                    <div class="card-description min-h-[44px] mb-[12px] text-[14px] text-gray-500 leading-[1.6] overflow-hidden">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem aspernatur ut aliquam inventore sapiente? Obcaecati, eos libero, a quis quae veritatis veniam dolorum magnam reiciendis id omnis voluptatibus modi cum.
                    </div>
                    <div class="max-h-[64px] mb-[12px] flex flex-wrap gap-[6px] overflow-hidden">
                        <span class="px-[10px] py-[4px] border border-gray-300 bg-gray-200 text-gray-500 text-[12px] rounded-[12px] cursor-pointer transition duration-300 hover:bg-blue-200 hover:border-blue-300 hover:text-blue-500">Math</span>
                        <span class="px-[10px] py-[4px] border border-gray-300 bg-gray-200 text-gray-500 text-[12px] rounded-[12px] cursor-pointer transition duration-300 hover:bg-blue-200 hover:border-blue-300 hover:text-blue-500">Math</span>
                        <span class="px-[10px] py-[4px] border border-gray-300 bg-gray-200 text-gray-500 text-[12px] rounded-[12px] cursor-pointer transition duration-300 hover:bg-blue-200 hover:border-blue-300 hover:text-blue-500">Math</span>
                        <span class="px-[10px] py-[4px] border border-gray-300 bg-gray-100 text-gray-400 text-[12px] rounded-[12px]">2+</span>
                    </div>
                    <div class="mb-[12px] flex gap-[12px] justify-between items-center">
                        <span class="px-[10px] py-[4px] inline-flex gap-[5px] items-center text-[12px] text-green-400 font-[600] bg-green-100 border border-green-300 rounded-[12px]">üí≤ Free trial</span>
                        <div class="flex gap-[6px] items-center text-[12px] text-gray-400 whitespace-nowrap">
                            <div class="text-yellow-500 font-[600]">
                                ‚≠ê 4.8
                            </div>
                            <div class="text-gray-500 text-[12px]">
                                (2.5k)
                            </div>
                            <div class="text-gray-800">
                                ‚Ä¢
                            </div>
                            <div class="text-gray-500 text-[12px]">
                                340 saves
                            </div>
                        </div>
                    </div>
                        <div class="mt-auto pt-[16px] border-t border-gray-200 flex gap-[10px]">
                        <a href="https://www.brilliant.org" target="_blank" class="px-[18px] py-[10px] flex flex-1 gap-[6px] items-center justify-center bg-blue-400 text-white text-[14px] font-[600] rounded-[8px] cursor-pointer transition duration-200 hover:bg-blue-600">
                            <span>Open Website</span>
                            <span>‚Üí</span>
                        </a>
                        <button class="px-[16px] py-[11px] flex items-center justify-center border border-gray-300 bg-white rounded-[8px] text-[16px] cursor-pointer transition duration-200 hover:bg-blue-100 hover:border-blue-300">
                            üîó
                        </button>
                    </div>
                </div>
            </div>
            <div class="resource-card flex flex-col bg-white rounded-[16px] overflow-hidden shadow-[0_2px_8px_rgba(0,0,0,0.1)] cursor-pointer transition duration-300 hover:-translate-y-[4px] hover:shadow-[0_8px_24px_rgba(0,0,0,0.25)]">
                <div class="w-full h-[160px] mb-[8px] text-white text-[48px] font-[700] flex justify-center items-center bg-linear-to-r from-cyan-500 to-blue-500">
                    B
                </div>
                <div class="p-[18px] flex flex-col flex-1">
                    <div class="card-title mb-[8px] text-gray-900 text-[18px] font-[700] leading-[1.4]">Brilliant</div>
                    <div class="mb-[10px] flex flex-wrap gap-[7px] items-center text-[13px]">
                        <span>üåê</span>
                        <span class="text-gray-500 font-[600] hover:text-blue-500"><a href="https://www.brilliant.org" target="_blank">brilliant.org</a></span>
                        <span class="text-gray-900">‚Ä¢</span>
                        <span class="px-[8px] py-[2px] bg-gray-200 text-gray-800 text-[11px] font-[600] border border-gray-400 rounded-[10px]">Interactive</span>
                    </div>
                    <div class="card-description card-description--empty min-h-[44px] mb-[12px] text-[14px] text-gray-500 leading-[1.6] overflow-hidden">
                        No description yet ‚Äî Add a one-sentence summary
                    </div>
                </div>
            </div>
        </div>

        <div class="flex flex-wrap mt-[48px] p-[20px] items-center justify-center gap-[8px]">
            <button class="page-btn min-w-[40px] h-[40px] px-[12px] py-[0px] items-center justify-center border border-gray-200 bg-white text-gray-600 text-[14px] font-[500] rounded-[8px] cursor-pointer transition duration-200">
                ‚Üê
            </button>
            <button class="page-btn active min-w-[40px] h-[40px] px-[12px] py-[0px] items-center justify-center border border-gray-200 bg-white text-gray-600 text-[14px] font-[500] rounded-[8px] cursor-pointer transition duration-200" onclick="changePage(1)">1</button>
            <button class="page-btn min-w-[40px] h-[40px] px-[12px] py-[0px] items-center justify-center border border-gray-200 bg-white text-gray-600 text-[14px] font-[500] rounded-[8px] cursor-pointer transition duration-200" onclick="changePage(2)">2</button>
            <button class="page-btn min-w-[40px] h-[40px] px-[12px] py-[0px] items-center justify-center border border-gray-200 bg-white text-gray-600 text-[14px] font-[500] rounded-[8px] cursor-pointer transition duration-200" onclick="changePage(3)">3</button>
            <button class="page-btn min-w-[40px] h-[40px] px-[12px] py-[0px] items-center justify-center border border-gray-200 bg-white text-gray-600 text-[14px] font-[500] rounded-[8px] cursor-pointer transition duration-200" onclick="changePage(4)">4</button>
            <button class="page-btn min-w-[40px] h-[40px] px-[12px] py-[0px] items-center justify-center border border-gray-200 bg-white text-gray-600 text-[14px] font-[500] rounded-[8px] cursor-pointer transition duration-200" onclick="changePage(5)">5</button>
            
            <button class="page-btn dots min-w-[40px] h-[40px] px-[12px] py-[0px] items-center justify-center border border-gray-200 bg-white text-gray-600 text-[14px] font-[500] rounded-[8px] cursor-pointer transition duration-200" disabled>‚ãØ</button>
            
            <button class="page-btn min-w-[40px] h-[40px] px-[12px] py-[0px] items-center justify-center border border-gray-200 bg-white text-gray-600 text-[14px] font-[500] rounded-[8px] cursor-pointer transition duration-200" onclick="changePage(11)">11</button>
            <button class="page-btn min-w-[40px] h-[40px] px-[12px] py-[0px] items-center justify-center border border-gray-200 bg-white text-gray-600 text-[14px] font-[500] rounded-[8px] cursor-pointer transition duration-200" onclick="changePage(12)">12</button>
            <button class="page-btn" onclick="changePage(currentPage + 1)" id="next-btn">
                Next ‚Üí
            </button>
        </div>
    </main>
</div>